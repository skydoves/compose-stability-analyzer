
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Real-time analysis of Jetpack Compose composable functions stability directly within Android Studio or IntelliJ.">
      
      
        <meta name="author" content="Jaewoong (skydoves)">
      
      
        <link rel="canonical" href="https://github.com/skydoves/compose-stability-analyzer/gradle-plugin/trace-recomposition/">
      
      
        <link rel="prev" href="../getting-started/">
      
      
        <link rel="next" href="../custom-logger/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>TraceRecomposition - Compose Stability Analyzer</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-1SBY14Q79E"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-1SBY14Q79E",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-1SBY14Q79E",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tracerecomposition" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Compose Stability Analyzer" class="md-header__button md-logo" aria-label="Compose Stability Analyzer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12v7l-3 1-3-4.67c-.29-.44-1-.19-.92.34L14 23 4 18l.96-5.25C5.56 9.42 8.46 7 11.84 7H13l6-6-2 6h3l-1.58 2.37C19.36 9.88 20 10.86 20 12"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Compose Stability Analyzer
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              TraceRecomposition
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/skydoves/compose-stability-analyzer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Compose Stability Analyzer
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Compose Stability Analyzer" class="md-nav__button md-logo" aria-label="Compose Stability Analyzer" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12v7l-3 1-3-4.67c-.29-.44-1-.19-.92.34L14 23 4 18l.96-5.25C5.56 9.42 8.46 7 11.84 7H13l6-6-2 6h3l-1.58 2.37C19.36 9.88 20 10.86 20 12"/></svg>

    </a>
    Compose Stability Analyzer
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/skydoves/compose-stability-analyzer" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Compose Stability Analyzer
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    IDE Plugin
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    IDE Plugin
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/gutter-icons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gutter Icons & Tooltips
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/inline-hints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inline Hints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/inspections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Inspections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/stability-explorer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stability Explorer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/recomposition-cascade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recomposition Cascade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/recomposition-heatmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recomposition Heatmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ide-plugin/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Gradle Plugin
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Gradle Plugin
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    TraceRecomposition
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    TraceRecomposition
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Usage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotation-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Annotation Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Annotation Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-tag-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        The tag Parameter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-threshold-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        The threshold Parameter
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-the-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading the Logs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reading the Logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-recomposition" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Recomposition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-changed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Changed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unstable-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unstable Parameter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parameters-mixed-stability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Parameters (Mixed Stability)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enable Logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-debugging-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Real-World Debugging Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../custom-logger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Logger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stability-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stability Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci-cd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI/CD Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stability-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stability Concepts
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../version-map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kotlin Version Map
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sponsor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sponsor
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Usage
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#annotation-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Annotation Parameters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Annotation Parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-tag-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        The tag Parameter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-threshold-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        The threshold Parameter
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reading-the-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading the Logs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reading the Logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-recomposition" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Recomposition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-changed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Changed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unstable-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        Unstable Parameter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-parameters-mixed-stability" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Parameters (Mixed Stability)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enable-logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enable Logging
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-debugging-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Real-World Debugging Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tracerecomposition">TraceRecomposition<a class="headerlink" href="#tracerecomposition" title="Permanent link">&para;</a></h1>
<p><code>@TraceRecomposition</code> lets you trace the behavior of any composable function. By annotating a composable, you can log parameter changes whenever that function undergoes recomposition, without writing any logging code yourself. The compiler plugin instruments the function at compile time, injecting the necessary tracking code automatically.</p>
<h2 id="basic-usage">Basic Usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h2>
<p>Add the <code>@TraceRecomposition</code> annotation to any composable function you want to monitor. No other changes are needed; the compiler plugin handles the rest.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@TraceRecomposition</span>
<span class="nd">@Composable</span>
<span class="kd">fun</span><span class="w"> </span><span class="nf">UserProfile</span><span class="p">(</span><span class="n">user</span><span class="p">:</span><span class="w"> </span><span class="n">User</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Column</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s">&quot;Name: </span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="na">name</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s">&quot;Age: </span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="na">age</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>When this composable recomposes, detailed logs appear in Logcat showing the recomposition count, each parameter's stability status, and whether the parameter's value changed since the last composition.</p>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #1] UserProfile
D/Recomposition:   └─ user: User stable (User@abc123)
D/Recomposition: [Recomposition #2] UserProfile
D/Recomposition:   └─ user: User changed (User@abc123 → User@def456)
</code></pre></div>
<p>The first log entry shows the initial composition: the <code>user</code> parameter is stable and the log includes its identity hash. The second entry shows a recomposition triggered by the <code>user</code> parameter changing to a different instance, with both the old and new identity hashes displayed.</p>
<h2 id="annotation-parameters">Annotation Parameters<a class="headerlink" href="#annotation-parameters" title="Permanent link">&para;</a></h2>
<h3 id="the-tag-parameter">The <code>tag</code> Parameter<a class="headerlink" href="#the-tag-parameter" title="Permanent link">&para;</a></h3>
<p>Tags let you categorize and filter your logs, which is especially useful in large projects where many composables might have tracing enabled simultaneously. By assigning meaningful tags, you can filter Logcat to show only the composables you're currently investigating.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@TraceRecomposition</span><span class="p">(</span><span class="n">tag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;user-profile&quot;</span><span class="p">)</span>
<span class="nd">@Composable</span>
<span class="kd">fun</span><span class="w"> </span><span class="nf">UserProfile</span><span class="p">(</span><span class="n">user</span><span class="p">:</span><span class="w"> </span><span class="n">User</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Your composable code</span>
<span class="p">}</span>
</code></pre></div>
<p>Logs now include the tag, making it easy to filter in Logcat:</p>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #1] UserProfile (tag: user-profile)
D/Recomposition:   └─ user: User stable (User@abc123)
</code></pre></div>
<p>Tags are also valuable when using a <a href="../custom-logger/">custom logger</a>, since you can route events differently based on their tag, for example sending only critical flow recompositions (checkout, authentication) to your analytics platform while logging everything else to Logcat during development.</p>
<h3 id="the-threshold-parameter">The <code>threshold</code> Parameter<a class="headerlink" href="#the-threshold-parameter" title="Permanent link">&para;</a></h3>
<p>The <code>threshold</code> parameter controls when logging begins. By setting a threshold, the composable only produces log output after it has recomposed the specified number of times. This is essential for reducing noise, since many composables recompose once or twice during initial layout setup, which is completely normal and not a performance concern.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@TraceRecomposition</span><span class="p">(</span><span class="n">threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="nd">@Composable</span>
<span class="kd">fun</span><span class="w"> </span><span class="nf">FrequentlyRecomposingScreen</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Will only start logging after the 3rd recomposition</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Why thresholds matter</p>
<p>Many composables recompose 1-2 times during initial setup. These are expected and not performance issues. By using <code>threshold = 3</code> or higher, you filter out the noise and focus on actual problems: composables that keep recomposing during user interaction, scrolling, or state updates.</p>
</div>
<p>A threshold of <code>3</code> works well for most composables. For composables in scrolling lists or frequently updating screens where some recomposition is expected, a higher threshold (e.g., <code>10</code> or <code>20</code>) helps focus on truly excessive recomposition.</p>
<h2 id="reading-the-logs">Reading the Logs<a class="headerlink" href="#reading-the-logs" title="Permanent link">&para;</a></h2>
<p>Understanding the log output is key to diagnosing recomposition issues. Each log entry contains several pieces of information that, together, tell you exactly what happened and why.</p>
<h3 id="first-recomposition">First Recomposition<a class="headerlink" href="#first-recomposition" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #1] UserProfile
D/Recomposition:   └─ user: User stable (User@abc123)
</code></pre></div>
<p>The <code>[Recomposition #1]</code> counter tells you this is the first time this composable instance is recomposing. <code>user: User</code> identifies the parameter by name and type. The <code>stable</code> label means the Compose compiler considers this parameter stable, so it won't cause unnecessary recompositions. The identity hash <code>(User@abc123)</code> lets you track whether the same instance is being passed across recompositions.</p>
<p>This log confirms the composable is working correctly. A stable parameter on the first recomposition is expected behavior.</p>
<h3 id="parameter-changed">Parameter Changed<a class="headerlink" href="#parameter-changed" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #2] UserProfile
D/Recomposition:   └─ user: User changed (User@abc123 → User@def456)
</code></pre></div>
<p>The <code>changed</code> label is the most important signal. It tells you this parameter's value is different from the last composition, which is the <strong>reason</strong> this composable recomposed. The arrow notation <code>(User@abc123 → User@def456)</code> shows the old and new identity hashes, confirming the value actually changed.</p>
<p>This is normal behavior. The parameter changed, so the composable recomposed to reflect the new data. This is exactly what Compose should do.</p>
<h3 id="unstable-parameter">Unstable Parameter<a class="headerlink" href="#unstable-parameter" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #1] UserCard (tag: user-card)
D/Recomposition:   ├─ user: MutableUser unstable (MutableUser@xyz789)
D/Recomposition:   └─ Unstable parameters: [user]
</code></pre></div>
<p>The <code>unstable</code> label means the Compose compiler cannot guarantee this parameter won't change between recompositions. Because of this, Compose must always re-execute the composable; it can never be skipped. The <code>Unstable parameters: [user]</code> summary at the end lists all unstable parameters for quick reference.</p>
<h3 id="multiple-parameters-mixed-stability">Multiple Parameters (Mixed Stability)<a class="headerlink" href="#multiple-parameters-mixed-stability" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #5] ProductList (tag: products)
D/Recomposition:   ├─ title: String stable (Products)
D/Recomposition:   ├─ count: Int changed (4 → 5)
D/Recomposition:   ├─ items: List&lt;Product&gt; unstable (List@abc)
D/Recomposition:   └─ Unstable parameters: [items]
</code></pre></div>
<p>This log tells a complete story. The <code>title</code> parameter is stable and hasn't changed, so it's not contributing to this recomposition. The <code>count</code> parameter changed from <code>4</code> to <code>5</code>; this is <strong>why</strong> the composable recomposed. The <code>items</code> parameter is unstable, meaning it will trigger recomposition regardless of whether its value actually changed. Even though <code>count</code> changing is the immediate cause here, the unstable <code>items</code> parameter is a latent performance issue that should be addressed.</p>
<h2 id="enable-logging">Enable Logging<a class="headerlink" href="#enable-logging" title="Permanent link">&para;</a></h2>
<p>The <code>@TraceRecomposition</code> annotation instruments your code at compile time, but the runtime logging system must be explicitly enabled. Add this to your <code>Application</code> class to activate logging:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Application</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">onCreate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="na">onCreate</span><span class="p">()</span>
<span class="w">        </span><span class="n">ComposeStabilityAnalyzer</span><span class="p">.</span><span class="na">setEnabled</span><span class="p">(</span><span class="n">BuildConfig</span><span class="p">.</span><span class="na">DEBUG</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Production builds</p>
<p>Always wrap with <code>BuildConfig.DEBUG</code> to avoid performance overhead in production. The instrumented code is still present in release builds, but when logging is disabled, the overhead is minimal (just a boolean check on each recomposition). If you don't call <code>ComposeStabilityAnalyzer.setEnabled()</code>, no logs will appear even with <code>@TraceRecomposition</code>.</p>
</div>
<h2 id="real-world-debugging-example">Real-World Debugging Example<a class="headerlink" href="#real-world-debugging-example" title="Permanent link">&para;</a></h2>
<p>Consider a common scenario: your product list screen feels laggy during scrolling. You suspect excessive recompositions but aren't sure which composable is the culprit or what's causing it.</p>
<p><strong>Add tracking to the composable you suspect.</strong> Use a meaningful tag and a threshold to filter out initial setup recompositions.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@TraceRecomposition</span><span class="p">(</span><span class="n">tag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;product-card&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="nd">@Composable</span>
<span class="kd">fun</span><span class="w"> </span><span class="nf">ProductCard</span><span class="p">(</span><span class="n">product</span><span class="p">:</span><span class="w"> </span><span class="n">Product</span><span class="p">,</span><span class="w"> </span><span class="n">onClick</span><span class="p">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">Unit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Card</span><span class="p">(</span><span class="n">onClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">onClick</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="na">name</span><span class="p">)</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s">&quot;</span><span class="err">$</span><span class="si">${</span><span class="n">product</span><span class="p">.</span><span class="na">price</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Run the app and check Logcat.</strong> Filter by <code>product-card</code> to see only this composable's events. After scrolling through the list, you see logs appearing rapidly:</p>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #3] ProductCard (tag: product-card)
D/Recomposition:   ├─ product: Product unstable (Product@abc)
D/Recomposition:   ├─ onClick: () -&gt; Unit stable (Function@xyz)
D/Recomposition:   └─ Unstable parameters: [product]
</code></pre></div>
<p>The logs reveal the problem clearly. The <code>onClick</code> lambda is stable (no issue there), but the <code>product</code> parameter is unstable. Every time the parent recomposes, even if the product data hasn't changed, this <code>ProductCard</code> must re-execute because Compose can't verify that <code>product</code> is the same value.</p>
<p><strong>Fix the root cause.</strong> Check the <code>Product</code> class and you'll likely find mutable properties:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Before (UNSTABLE)</span>
<span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Product</span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">price</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>

<span class="c1">// After (STABLE)</span>
<span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Product</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">price</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>
</code></pre></div>
<p><strong>Verify the fix</strong> by running the app again. The logs now show stable parameters:</p>
<div class="highlight"><pre><span></span><code>D/Recomposition: [Recomposition #3] ProductCard (tag: product-card)
D/Recomposition:   ├─ product: Product stable (Product@abc)
D/Recomposition:   └─ onClick: () -&gt; Unit stable (Function@xyz)
</code></pre></div>
<p>The <code>ProductCard</code> is now skippable. During scrolling, Compose will skip recomposing cards whose <code>product</code> and <code>onClick</code> values haven't changed, resulting in noticeably smoother performance.</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<p>Be selective about which composables you track. Adding <code>@TraceRecomposition</code> to every composable creates log noise that makes it harder to find real issues. Focus on composables you suspect have performance problems: list items, complex screens with many parameters, and composables at the boundary between state management and UI.</p>
<p>Use meaningful tags that reflect your app's feature structure. Tags like <code>"auth-flow"</code>, <code>"checkout-item"</code>, and <code>"feed-card"</code> are immediately understandable when scanning logs, while generic tags like <code>"card1"</code> or <code>"screen"</code> provide no useful context.</p>
<p>Set appropriate thresholds based on the composable's expected behavior. A threshold of <code>3</code> works for most cases, filtering out initial layout. For composables in scrolling lists or animated screens where frequent recomposition is normal, use <code>10</code> or higher so you only see truly excessive recomposition events.</p>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>